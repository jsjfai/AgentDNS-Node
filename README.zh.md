<p align='center'>
<img src='./resources/icon.png' width="150" height="150" alt="AgentDNS Icon" />
</p>

# Agentwebï¼šæ™ºèƒ½ä½“äº’è”ç½‘ï¼šä¸€ç«™å¼æ™ºèƒ½ä½“æœåŠ¡å™¨äº’è”äº’é€šå¹³å°

[English Version](README.md) | ä¸­æ–‡ç‰ˆ

Agentweb é€šè¿‡å°†å¤šä¸ª MCPï¼ˆModel Context Protocolï¼‰æœåŠ¡å™¨ç»„ç»‡ä¸ºçµæ´»çš„æµå¼ HTTPï¼ˆSSEï¼‰ç«¯ç‚¹ï¼Œç®€åŒ–äº†ç®¡ç†ä¸æ‰©å±•å·¥ä½œã€‚ç³»ç»Ÿæ”¯æŒæŒ‰éœ€è®¿é—®å…¨éƒ¨æœåŠ¡å™¨ã€å•ä¸ªæœåŠ¡å™¨æˆ–æŒ‰åœºæ™¯åœºæ™¯çš„æœåŠ¡å™¨é›†åˆã€‚

![æ§åˆ¶é¢æ¿é¢„è§ˆ](assets/dashboard.png)

## ğŸš€ åŠŸèƒ½äº®ç‚¹

- **å¹¿æ³›çš„ MCP æœåŠ¡å™¨æ”¯æŒ**ï¼šæ— ç¼é›†æˆä»»ä½• MCP æœåŠ¡å™¨ï¼Œé…ç½®ç®€å•ã€‚
- **é›†ä¸­å¼ç®¡ç†æ§åˆ¶å°**ï¼šåœ¨ä¸€ä¸ªç®€æ´çš„ Web UI ä¸­å®æ—¶ç›‘æ§æ‰€æœ‰æœåŠ¡å™¨çš„çŠ¶æ€å’Œæ€§èƒ½æŒ‡æ ‡ã€‚
- **çµæ´»çš„åè®®å…¼å®¹**ï¼šå®Œå…¨æ”¯æŒ stdio å’Œ SSE ä¸¤ç§ MCP åè®®ã€‚
- **çƒ­æ’æ‹”å¼é…ç½®**ï¼šåœ¨è¿è¡Œæ—¶åŠ¨æ€æ·»åŠ ã€ç§»é™¤æˆ–æ›´æ–°æœåŠ¡å™¨é…ç½®ï¼Œæ— éœ€åœæœºã€‚
- **åŸºäºåœºæ™¯çš„è®¿é—®æ§åˆ¶**ï¼šè‡ªå®šä¹‰åœºæ™¯å¹¶ç®¡ç†æœåŠ¡å™¨è®¿é—®æƒé™ã€‚
- **å®‰å…¨è®¤è¯æœºåˆ¶**ï¼šå†…ç½®ç”¨æˆ·ç®¡ç†ï¼ŒåŸºäº JWT å’Œ bcryptï¼Œå®ç°è§’è‰²æƒé™æ§åˆ¶ã€‚
- **Docker å°±ç»ª**ï¼šæä¾›å®¹å™¨åŒ–é•œåƒï¼Œå¿«é€Ÿéƒ¨ç½²ã€‚

## ğŸ”§ å¿«é€Ÿå¼€å§‹

### é…ç½®

é€šè¿‡åˆ›å»º `mcp_settings.json` è‡ªå®šä¹‰æœåŠ¡å™¨è®¾ç½®ï¼š

```json
{
  "mcpServers": {
    "amap": {
      "command": "npx",
      "args": ["-y", "@amap/amap-maps-mcp-server"],
      "env": {
        "AMAP_MAPS_API_KEY": "your-api-key"
      }
    },
    "playwright": {
      "command": "npx",
      "args": ["@playwright/mcp@latest", "--headless"]
    },
    "fetch": {
      "command": "uvx",
      "args": ["mcp-server-fetch"]
    },
    "slack": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-slack"],
      "env": {
        "SLACK_BOT_TOKEN": "your-bot-token",
        "SLACK_TEAM_ID": "your-team-id"
      }
    }
  }
}
```

### Docker éƒ¨ç½²

**æ¨è**ï¼šæŒ‚è½½è‡ªå®šä¹‰é…ç½®ï¼š

```bash
docker run -p 3000:3000 -v ./mcp_settings.json:/app/mcp_settings.json -v ./data:/app/data doesai/agentweb
```

æˆ–ä½¿ç”¨é»˜è®¤é…ç½®è¿è¡Œï¼š

```bash
docker run -p 3000:3000 doesai/agentweb
```

### è®¿é—®æ§åˆ¶å°

æ‰“å¼€ `http://localhost:3000`ï¼Œä½¿ç”¨æ‚¨çš„è´¦å·ç™»å½•ã€‚

> **æç¤º**ï¼šé»˜è®¤ç”¨æˆ·å/å¯†ç ä¸º `admin` / `admin123`ã€‚

**æ§åˆ¶å°åŠŸèƒ½**ï¼š

- å®æ—¶ç›‘æ§æ‰€æœ‰ MCP æœåŠ¡å™¨çŠ¶æ€
- å¯ç”¨/ç¦ç”¨æˆ–é‡æ–°é…ç½®æœåŠ¡å™¨
- åœºæ™¯ç®¡ç†ï¼Œç»„ç»‡æœåŠ¡å™¨è®¿é—®
- ç”¨æˆ·ç®¡ç†ï¼Œè®¾å®šæƒé™

### æ”¯æŒæµå¼çš„ HTTP ç«¯ç‚¹

> æˆªè‡³ç›®å‰ï¼Œå„å®¶ AI å®¢æˆ·ç«¯å¯¹æµå¼çš„ HTTP ç«¯ç‚¹æ”¯æŒä¸ä¸€ï¼Œå¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ SSE ç«¯ç‚¹æˆ–è€…ç­‰å¾…æ›´æ–°ã€‚

é€šè¿‡ä»¥ä¸‹åœ°å€è¿æ¥ AI å®¢æˆ·ç«¯ï¼ˆå¦‚ Claude Desktopã€Cursorã€DeepChat ç­‰ï¼‰ï¼š

```
http://localhost:3000/mcp
```

è¿™ä¸ªç«¯ç‚¹ä¸ºæ‰€æœ‰ MCP æœåŠ¡å™¨æä¾›ç»Ÿä¸€çš„æµå¼ HTTP æ¥å£ã€‚å®ƒå…è®¸æ‚¨ï¼š

- å‘ä»»ä½•é…ç½®çš„ MCP æœåŠ¡å™¨å‘é€è¯·æ±‚
- å®æ—¶æ¥æ”¶å“åº”
- è½»æ¾ä¸å„ç§ AI å®¢æˆ·ç«¯å’Œå·¥å…·é›†æˆ
- å¯¹æ‰€æœ‰æœåŠ¡å™¨ä½¿ç”¨ç›¸åŒçš„ç«¯ç‚¹ï¼Œç®€åŒ–é›†æˆè¿‡ç¨‹

**æ™ºèƒ½è·¯ç”±ï¼ˆå®éªŒæ€§åŠŸèƒ½ï¼‰**ï¼š

æ™ºèƒ½è·¯ç”±æ˜¯ Agentweb çš„æ™ºèƒ½å·¥å…·å‘ç°ç³»ç»Ÿï¼Œä½¿ç”¨å‘é‡è¯­ä¹‰æœç´¢è‡ªåŠ¨ä¸ºä»»ä½•ç»™å®šä»»åŠ¡æ‰¾åˆ°æœ€ç›¸å…³çš„å·¥å…·ã€‚

```
http://localhost:3000/mcp/$smart
```

**å·¥ä½œåŸç†ï¼š**

1. **å·¥å…·ç´¢å¼•**ï¼šæ‰€æœ‰ MCP å·¥å…·è‡ªåŠ¨è½¬æ¢ä¸ºå‘é‡åµŒå…¥å¹¶å­˜å‚¨åœ¨ PostgreSQL ä¸ pgvector ä¸­
2. **è¯­ä¹‰æœç´¢**ï¼šç”¨æˆ·æŸ¥è¯¢è½¬æ¢ä¸ºå‘é‡å¹¶ä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦ä¸å·¥å…·åµŒå…¥åŒ¹é…
3. **æ™ºèƒ½ç­›é€‰**ï¼šåŠ¨æ€é˜ˆå€¼ç¡®ä¿ç›¸å…³ç»“æœä¸”æ— å™ªå£°
4. **ç²¾ç¡®æ‰§è¡Œ**ï¼šæ‰¾åˆ°çš„å·¥å…·å¯ä»¥ç›´æ¥æ‰§è¡Œå¹¶è¿›è¡Œé€‚å½“çš„å‚æ•°éªŒè¯

**è®¾ç½®è¦æ±‚ï¼š**

![æ™ºèƒ½è·¯ç”±](assets/smart-routing.zh.png)

ä¸ºäº†å¯ç”¨æ™ºèƒ½è·¯ç”±ï¼Œæ‚¨éœ€è¦ï¼š

- æ”¯æŒ pgvector æ‰©å±•çš„ PostgreSQL
- OpenAI API å¯†é’¥ï¼ˆæˆ–å…¼å®¹çš„åµŒå…¥æœåŠ¡ï¼‰
- åœ¨ Agentweb è®¾ç½®ä¸­å¯ç”¨æ™ºèƒ½è·¯ç”±

**åŸºäºåœºæ™¯çš„ HTTP ç«¯ç‚¹ï¼ˆæ¨èï¼‰**ï¼š
![åœºæ™¯](assets/group.zh.png)
è¦é’ˆå¯¹ç‰¹å®šæœåŠ¡å™¨åœºæ™¯è¿›è¡Œè®¿é—®ï¼Œè¯·ä½¿ç”¨åŸºäºåœºæ™¯çš„ HTTP ç«¯ç‚¹ï¼š

```
http://localhost:3000/mcp/{group}
```

å…¶ä¸­ `{group}` æ˜¯æ‚¨åœ¨æ§åˆ¶é¢æ¿ä¸­åˆ›å»ºçš„åœºæ™¯ ID æˆ–åç§°ã€‚è¿™æ ·åšå¯ä»¥ï¼š

- è¿æ¥åˆ°æŒ‰ç”¨ä¾‹ç»„ç»‡çš„ç‰¹å®š MCP æœåŠ¡å™¨å­é›†
- éš”ç¦»ä¸åŒçš„ AI å·¥å…·ï¼Œä½¿å…¶åªèƒ½è®¿é—®ç›¸å…³æœåŠ¡å™¨
- ä¸ºä¸åŒç¯å¢ƒæˆ–å›¢é˜Ÿå®ç°æ›´ç²¾ç»†çš„è®¿é—®æ§åˆ¶
- é€šè¿‡åœºæ™¯åç§°è½»æ¾è¯†åˆ«å’Œç®¡ç†æœåŠ¡å™¨
- å…è®¸ä¸åŒçš„ AI å®¢æˆ·ç«¯ä½¿ç”¨ç›¸åŒçš„ç«¯ç‚¹ï¼Œç®€åŒ–é›†æˆè¿‡ç¨‹

**é’ˆå¯¹ç‰¹å®šæœåŠ¡å™¨çš„ HTTP ç«¯ç‚¹**ï¼š
è¦é’ˆå¯¹ç‰¹å®šæœåŠ¡å™¨è¿›è¡Œè®¿é—®ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š

```
http://localhost:3000/mcp/{server}
```

å…¶ä¸­ `{server}` æ˜¯æ‚¨è¦è¿æ¥çš„æœåŠ¡å™¨åç§°ã€‚è¿™æ ·åšå¯ä»¥ç›´æ¥è®¿é—®ç‰¹å®šçš„ MCP æœåŠ¡å™¨ã€‚

> **æç¤º**ï¼šå¦‚æœæœåŠ¡å™¨åç§°å’Œåœºæ™¯åç§°ç›¸åŒï¼Œåˆ™åœºæ™¯åç§°ä¼˜å…ˆã€‚

### SSE ç«¯ç‚¹é›†æˆ (æœªæ¥å¯èƒ½åºŸå¼ƒ)

é€šè¿‡ä»¥ä¸‹åœ°å€è¿æ¥ AI å®¢æˆ·ç«¯ï¼ˆå¦‚ Claude Desktopã€Cursorã€DeepChat ç­‰ï¼‰ï¼š

```
http://localhost:3000/sse
```

è¦å¯ç”¨æ™ºèƒ½è·¯ç”±ï¼Œè¯·ä½¿ç”¨ï¼š

```
http://localhost:3000/sse/$smart
```

è¦é’ˆå¯¹ç‰¹å®šæœåŠ¡å™¨åœºæ™¯è¿›è¡Œè®¿é—®ï¼Œè¯·ä½¿ç”¨åŸºäºåœºæ™¯çš„ SSE ç«¯ç‚¹ï¼š

```
http://localhost:3000/sse/{group}
```

è¦é’ˆå¯¹ç‰¹å®šæœåŠ¡å™¨è¿›è¡Œè®¿é—®ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š

```
http://localhost:3000/sse/{server}
```

## ğŸ§‘â€ğŸ’» æœ¬åœ°å¼€å‘

```bash
git clone ssh://git@gitea.jsjf.com:2222/internet-agents/agentweb.git
cd agentweb
pnpm install
pnpm dev
```

æ­¤å‘½ä»¤å°†åœ¨å¼€å‘æ¨¡å¼ä¸‹å¯åŠ¨å‰åç«¯ï¼Œå¹¶å¯ç”¨çƒ­é‡è½½ã€‚

> é’ˆå¯¹ Windows ç”¨æˆ·ï¼Œå¯èƒ½éœ€è¦åˆ†åˆ«å¯åŠ¨åç«¯æœåŠ¡å™¨å’Œå‰ç«¯ï¼š`pnpm backend:dev`ï¼Œ`pnpm frontend:dev`ã€‚

## ğŸ› ï¸ å¸¸è§é—®é¢˜

### ä½¿ç”¨ nginx åå‘ä»£ç†

å¦‚æœæ‚¨åœ¨ä½¿ç”¨ nginx åå‘ä»£ç† Agentwebï¼Œè¯·ç¡®ä¿åœ¨ nginx é…ç½®ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```nginx
proxy_buffering off
```

## ğŸ” æŠ€æœ¯æ ˆ

- **åç«¯**ï¼šNode.jsã€Expressã€TypeScript
- **å‰ç«¯**ï¼šReactã€Viteã€Tailwind CSS
- **è®¤è¯**ï¼šJWT & bcrypt
- **åè®®**ï¼šModel Context Protocol SDK

## ğŸ™ğŸ» æ„Ÿè°¢

æœ¬é¡¹ç›®çš„æ„å»ºå¾—ç›Šäºä»¥ä¸‹ä¼˜ç§€çš„å¼€æºé¡¹ç›®:

- [McpHub](https://github.com/samanhappy/mcphub)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache 2.0 è®¸å¯è¯](LICENSE)ã€‚
